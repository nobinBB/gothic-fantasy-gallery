<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gothic fantasy gallery</title>
        <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <meta name="description" content="暴れ馬で幻想的でガチャ要素があって面白いLoRAレシピ。">    
    <link rel="canonical" href="https://www.example.com/">
    <meta property="og:title" content="gothic fantasy gallery">
    <meta property="og:description" content="暴れ馬で幻想的でガチャ要素があって面白いLoRAレシピ。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.example.com/">
    <meta property="og:image" content="https://www.example.com/image.jpg">
    <meta property="og:site_name" content="gothic fantasy gallery">
    <meta property="og:locale" content="ja_JP">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="gothic fantasy gallery">
    <meta name="twitter:description" content="暴れ馬で幻想的でガチャ要素があって面白いLoRAレシピ。">
    <meta name="twitter:image" content="https://www.example.com/image.jpg">
    <meta name="twitter:site" content="@nobinLOG">
    <link rel="icon" href="/favicon.ico">

</head>
<body>
    <header>
        <h1>gothic fantasy gallery</h1>
        <div class="link-box">
            <a href="https://www.kobe-tech.ac.jp/illust/" target="_blank" rel="noopener noreferrer">noteレシピサイト</a>
        </div>
    </header>

    <main>
        <div class="gallery-grid" id="gallery-grid"></div>
    </main>

    <div id="modal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <img id="modal-img" src="" alt="">
        </div>
    </div>

    <script>
        const imageList = [
            './assets/img/1.webp',
            './assets/img/2.webp',
            './assets/img/3.webp',
            './assets/img/4.webp',
            './assets/img/5.webp',
            './assets/img/6.webp',
            './assets/img/7.webp',
            './assets/img/8.webp',
            './assets/img/9.webp',
            './assets/img/10.webp',
            './assets/img/11.webp',
            './assets/img/12.webp',
            './assets/img/13.webp',
            './assets/img/14.webp',
            './assets/img/15.webp',
            './assets/img/16.webp',
            './assets/img/17.webp',
            './assets/img/18.webp',
            './assets/img/19.webp',
            './assets/img/20.webp',
            './assets/img/21.webp',
            './assets/img/22.webp',
            './assets/img/23.webp',
            './assets/img/24.webp',
            './assets/img/25.webp',
            './assets/img/26.webp',
            './assets/img/27.webp',
            './assets/img/28.webp',
            './assets/img/29.webp',
            './assets/img/30.webp',
            './assets/img/31.webp',
            './assets/img/32.webp',
            './assets/img/33.webp',
            './assets/img/34.webp',
            './assets/img/35.webp',
            './assets/img/36.webp',
            './assets/img/37.webp',
            './assets/img/38.webp',
            './assets/img/39.webp',
            './assets/img/40.webp',
            './assets/img/41.webp',
            './assets/img/42.webp',
            './assets/img/43.webp',
            './assets/img/44.webp',
            './assets/img/45.webp',
            './assets/img/46.webp',
            './assets/img/47.webp',
            './assets/img/48.webp',      
   
        ];

        const state = {
            images: []
        };

        const elements = {
            grid: document.getElementById('gallery-grid'),
            modal: document.getElementById('modal'),
            modalImg: document.getElementById('modal-img'),
            closeBtn: document.querySelector('.close')
        };

        async function loadImages() {
            for (let i = 0; i < imageList.length; i++) {
                const imagePath = imageList[i];
                await loadSingleImage(imagePath, i + 1);
            }
            renderImages();
        }

        function loadSingleImage(imagePath, index) {
            return new Promise((resolve) => {
                const img = new Image();
                
                img.onload = () => {
                    state.images.push({
                        src: imagePath,
                        index,
                        title: `画像 ${index}`
                    });
                    resolve();
                };
                
                img.onerror = () => {
                    resolve();
                };
                
                img.src = imagePath;
            });
        }

        function renderImages() {
            elements.grid.innerHTML = '';
            
            state.images.forEach((imageData, index) => {
                const galleryItem = createGalleryItem(imageData, index);
                elements.grid.appendChild(galleryItem);
            });
        }

        function createGalleryItem(imageData, index) {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            galleryItem.style.animationDelay = `${(index % 12) * 0.05}s`;
            
            const img = document.createElement('img');
            img.src = imageData.src;
            img.alt = imageData.title || `Gallery Image ${imageData.index}`;
            img.loading = 'lazy';
            img.onclick = () => openModal(imageData.src);
            
            galleryItem.appendChild(img);
            return galleryItem;
        }

        function openModal(imageSrc) {
            elements.modal.style.display = 'block';
            elements.modalImg.src = imageSrc;
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            elements.modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function initEventListeners() {
            elements.closeBtn.onclick = closeModal;
            
            elements.modal.onclick = (event) => {
                if (event.target === elements.modal) {
                    closeModal();
                }
            };
            
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') {
                    closeModal();
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initEventListeners();
            loadImages();
        });
    </script>
</body>
</html>